{
    "$schema": "http://json-schema.org/draft-07/schema",
    "$id": "https://raw.githubusercontent.com/Levertion/minecraft-json-schema/master/java/data/advancement.json",
    "type": "object",
    "additionalProperties": false,
    "properties": {
        "display": {
            "type": "object",
            "title": "Optional display data",
            "description": "If specified, \"icon\",\"description\" and \"title\" must also be specified. If this is not specified, the advancement will not be on any page. If it is defined, even if empty, it will appear.",
            "additionalProperties": false,
            "properties": {
                "icon": {
                    "additionalProperties": false,
                    "properties": {
                        "item": {
                            "$ref": "../shared/item_name.json",
                            "title": "Item name",
                            "description": "The name of the item to use as the icon."
                        },
                        "nbt": {
                            "type": "string",
                            "title": "Item NBT",
                            "description": "The NBT of the item to display. Can set 'CustomModelData' or 'Damage' to use different textures."
                        }
                    }
                },
                "title": {
                    "$ref": "../shared/text_component.json",
                    "title": "Advancement title",
                    "description": "This is the title which will show when the advancement is hovered over. If it is the root advancement, this is also the title of the page. This is also shown in the toast upon getting the advancement"
                },
                "description": {
                    "$ref": "../shared/text_component.json",
                    "title": "Advancement description",
                    "description": "Must be specified. The description of the advancement. Will be only seen when the advancement icon is hovered over in the advancements menu."
                },
                "frame": {
                    "type": "string",
                    "title": "Advancement frame",
                    "description": "The frame of the advancement. Task is the default frame, goal represents an objective, challenge represents a (difficult) challenge",
                    "enum": [
                        "challenge",
                        "task",
                        "goal"
                    ]
                },
                "background": {
                    "$ref": "../shared/resource_location.json",
                    "title": "Page background texture (Root advancement only [No parent])"
                },
                "show_toast": {
                    "type": "boolean",
                    "title": "Show toast?",
                    "description": "Whether to show a popup window (elsewhere toast) when the advancement is obtained. Defaults to true"
                },
                "announce_to_chat": {
                    "type": "boolean",
                    "title": "Mention obtaining",
                    "description": "Whether to put that this advancement has been obtained into the chat. Can be overwritten by the announceAdvancements gamerule"
                },
                "hidden": {
                    "type": "boolean",
                    "title": "Hidden until completed",
                    "description": "If true, this advancement will not be shown until it has been obtained. Default is false"
                }
            }
        },
        "parent": {
            "$ref": "../shared/resource_location.json",
            "title": "Parent advancement (if not specified and \"display\" is, it will create a new page)"
        },
        "criteria": {
            "type": "object",
            "title": "Criteria",
            "description": "The criteria object of the advancement. At least one criteria must be specified. The name of the sub-object is the criterion id, as accessed in \"requirements\" and the <criterion> argument of /advancement",
            "additionalProperties": {
                "title": "A single criteria",
                "$ref": "#/definitions/advancement_criterion"
            },
            "minProperties": 1
        },
        "requirements": {
            "title": "Requirements - AND of ORs",
            "description": "This is a list of lists to specify required advancements - For one sub-list to complete, one of the criteria within it must be completed (OR operation). For the full outer list to complete (and the advancement be granted) all sub-lists must be completed (AND operation)",
            "type": "array",
            "items": {
                "type": "array",
                "items": {
                    "type": "string"
                }
            }
        },
        "rewards": {
            "type": "object",
            "additionalProperties": false,
            "title": "Rewards object",
            "description": "The rewards to give when the advancement is granted",
            "properties": {
                "recipes": {
                    "type": "array",
                    "title": "Recipes",
                    "description": "A list of recipes to give to the player. Uses the same name locator as the `/recipe` command",
                    "items": {
                        "$ref": "../shared/resource_location.json",
                        "title": "A single recipe"
                    }
                },
                "loot": {
                    "type": "array",
                    "title": "Loot tables",
                    "description": "A list of loot tables to give to the player. Uses the path to the loot table (with the first folder within the loot_tables folder being the namespace)",
                    "items": {
                        "title": "A single loot table",
                        "$ref": "../shared/resource_location.json"
                    }
                },
                "experience": {
                    "type": "integer",
                    "title": "Experience",
                    "description": "Experience to give to the player"
                },
                "function": {
                    "title": "A function to run as the player",
                    "description": "A single function to run as the player. Uses the path to the function (with the first folder within thefunction folder being the namespace)",
                    "$ref": "../shared/resource_location.json"
                }
            }
        }
    },
    "definitions": {
        "advancement_criterion": {
            "properties": {
                "trigger": {
                    "default": ""
                }
            },
            "required": [
                "trigger"
            ],
            "type": "object",
            "oneOf": [
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:bred_animals"
                            ],
                            "title": "Breed animals",
                            "description": "This criteria will be checked whenever the player breeds two animals"
                        },
                        "conditions": {
                            "type": "object",
                            "additionalProperties": false,
                            "title": "Required conditions",
                            "description": "All of these conditions must pass for the criteria to be activated",
                            "properties": {
                                "parent": {
                                    "$ref": "../shared/predicate.json#/definitions/entity",
                                    "title": "Conditions to test against either of the parents",
                                    "description": "Using both parent and partner is only useful when using horses/donkeys"
                                },
                                "partner": {
                                    "$ref": "../shared/predicate.json#/definitions/entity",
                                    "title": "Conditions to test against either of the parents"
                                },
                                "child": {
                                    "$ref": "../shared/predicate.json#/definitions/entity",
                                    "title": "Conditions to test against the child entity"
                                }
                            }
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:brewed_potion"
                            ],
                            "title": "Brew a potion",
                            "description": "This criteria will be checked whenever the player brews a potion"
                        },
                        "conditions": {
                            "additionalProperties": false,
                            "title": "Required conditions",
                            "description": "All of these conditions must pass for the criteria to be activated",
                            "type": "object",
                            "properties": {
                                "potion": {
                                    "$ref": "../shared/potion_name.json",
                                    "title": "The potion brewed"
                                }
                            }
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:changed_dimension"
                            ],
                            "title": "Change dimension",
                            "description": "This criteria will be checked whenever the player changes dimension (such as by going through a portal)"
                        },
                        "conditions": {
                            "type": "object",
                            "additionalProperties": false,
                            "title": "Required conditions",
                            "description": "All of these conditions must pass for the criteria to be activated",
                            "properties": {
                                "to": {
                                    "$ref": "../shared/dimension_name.json",
                                    "title": "Entered dimension"
                                },
                                "from": {
                                    "$ref": "../shared/dimension_name.json",
                                    "title": "Exited dimension"
                                }
                            }
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:construct_beacon"
                            ],
                            "title": "Build a beacon",
                            "description": "This criteria will be checked whenever the player is near a beacon when it's level changes"
                        },
                        "conditions": {
                            "type": "object",
                            "additionalProperties": false,
                            "title": "Required conditions",
                            "description": "All of these conditions must pass for the criteria to be activated",
                            "properties": {
                                "level": {
                                    "$ref": "../shared/range.json",
                                    "title": "The beacon level"
                                }
                            }
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:consume_item",
                                "minecraft:used_totem"
                            ],
                            "title": "Use up an item",
                            "description": "This criteria will be checked whenever the player uses up either a Totem of Undying for 'used_totem', or eats an item, for 'consume_item'"
                        },
                        "conditions": {
                            "additionalProperties": false,
                            "title": "Required conditions",
                            "description": "All of these conditions must pass for the criteria to be activated",
                            "type": "object",
                            "properties": {
                                "item": {
                                    "$ref": "../shared/predicate.json#/definitions/item",
                                    "title": "Item",
                                    "description": "This will be checked against the item used up"
                                }
                            }
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:cured_zombie_villager"
                            ],
                            "title": "Cure a zombie villager",
                            "description": "This criteria will be checked whenever the player uses a splash weakness potion and a golden apple to cure a villager"
                        },
                        "conditions": {
                            "additionalProperties": false,
                            "title": "Required conditions",
                            "description": "All of these conditions must pass for the criteria to be activated",
                            "type": "object",
                            "properties": {
                                "zombie": {
                                    "$ref": "../shared/predicate.json#/definitions/entity",
                                    "title": "Information about the zombie villager"
                                },
                                "villager": {
                                    "$ref": "../shared/predicate.json#/definitions/entity",
                                    "title": "Information about villager cured into"
                                }
                            }
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:effects_changed"
                            ],
                            "title": "Changed effects",
                            "description": "This criteria will be checked whenever the potion effects on the player change"
                        },
                        "conditions": {
                            "additionalProperties": false,
                            "title": "Required conditions",
                            "description": "All of these conditions must pass for the criteria to be activated",
                            "type": "object",
                            "properties": {
                                "effects": {
                                    "$ref": "../shared/predicate.json#/definitions/effect",
                                    "title": "The potion effects of the player"
                                }
                            }
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:enchanted_item"
                            ],
                            "title": "Enchanted an item",
                            "description": "This criteria will be checked whenever the player enchanted an item"
                        },
                        "conditions": {
                            "additionalProperties": false,
                            "title": "Required conditions",
                            "description": "All of these conditions must pass for the criteria to be activated",
                            "type": "object",
                            "properties": {
                                "item": {
                                    "$ref": "../shared/predicate.json#/definitions/item",
                                    "title": "The item enchanted"
                                },
                                "levels": {
                                    "$ref": "../shared/range.json",
                                    "title": "The number of levels used"
                                }
                            }
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:enter_block"
                            ],
                            "title": "Enter a block",
                            "description": "This criteria will be checked whenever the player moves"
                        },
                        "conditions": {
                            "additionalProperties": false,
                            "title": "The block to check",
                            "description": "The block which was entered to check the trigger",
                            "$ref": "../shared/predicate.json#/definitions/block"
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:entity_hurt_player"
                            ],
                            "title": "Entity hurt the player",
                            "description": "This criteria will be checked whenever the player is hurt by an entity"
                        },
                        "conditions": {
                            "additionalProperties": false,
                            "title": "Required conditions",
                            "description": "All of these conditions must pass for the criteria to be activated",
                            "type": "object",
                            "properties": {
                                "damage": {
                                    "$ref": "../shared/predicate.json#/definitions/damage",
                                    "title": "The damage taken"
                                }
                            }
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:player_hurt_entity"
                            ],
                            "title": "The player hurt an entity",
                            "description": "This criteria will be checked whenever player hurt an entity"
                        },
                        "conditions": {
                            "additionalProperties": false,
                            "title": "Required conditions",
                            "description": "All of these conditions must pass for the criteria to be activated",
                            "type": "object",
                            "properties": {
                                "damage": {
                                    "$ref": "../shared/predicate.json#/definitions/damage",
                                    "title": "The damage taken"
                                },
                                "entity": {
                                    "$ref": "../shared/predicate.json#/definitions/entity"
                                }
                            }
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:entity_killed_player",
                                "minecraft:player_killed_entity"
                            ],
                            "title": "Death occurs",
                            "description": "This criteria will be checked whenever the player kills or is killed by an entity"
                        },
                        "conditions": {
                            "additionalProperties": false,
                            "title": "The death object",
                            "description": "The conditions object is a direct reference to a death object",
                            "$ref": "../shared/predicate.json#/definitions/death"
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:impossible",
                                "minecraft:tick"
                            ],
                            "title": "Conditionless criteria",
                            "description": "The impossible trigger can be only granted with a command, the tick trigger is given once each tick"
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:inventory_changed"
                            ],
                            "title": "Inventory contents change",
                            "description": "This criteria will be checked whenever the items in the inventory of the player change. This includes moving slots etc."
                        },
                        "conditions": {
                            "additionalProperties": false,
                            "title": "Required conditions",
                            "description": "All of these conditions must pass for the criteria to be activated",
                            "type": "object",
                            "properties": {
                                "slots": {
                                    "additionalProperties": false,
                                    "properties": {
                                        "occupied": {
                                            "$ref": "../shared/range.json",
                                            "title": "Occupied amount",
                                            "description": "How many of the slots in the player's inventory have an item in them"
                                        },
                                        "full": {
                                            "$ref": "../shared/range.json",
                                            "title": "Full slots",
                                            "description": "How many of the slots in the player's inventory have an item with the maximum amount of the item in them in them"
                                        },
                                        "empty": {
                                            "$ref": "../shared/range.json",
                                            "title": "Empty slots",
                                            "description": "The number of the slots in the player's inventory have no item in them"
                                        }
                                    }
                                },
                                "items": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "../shared/predicate.json#/definitions/item"
                                    }
                                }
                            }
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:item_durability_changed"
                            ],
                            "title": "Changed durability",
                            "description": "This criteria will be checked whenever the durability of an item in the inventory of a player changes"
                        },
                        "conditions": {
                            "additionalProperties": false,
                            "title": "Required conditions",
                            "description": "All of these conditions must pass for the criteria to be activated",
                            "type": "object",
                            "properties": {
                                "item": {
                                    "$ref": "../shared/predicate.json#/definitions/item",
                                    "title": "The item",
                                    "description": "The item whose durability changed"
                                },
                                "durability": {
                                    "$ref": "../shared/range.json",
                                    "title": "Absolute durability",
                                    "description": "The absolute durability of the item after the change"
                                },
                                "delta": {
                                    "$ref": "../shared/range.json",
                                    "title": "Change in durability",
                                    "description": "The amount that the durability changed by"
                                }
                            }
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:levitation"
                            ],
                            "description": "This criteria will be checked whenever the player is levitating"
                        },
                        "conditions": {
                            "additionalProperties": false,
                            "title": "Required conditions",
                            "description": "All of these conditions must pass for the criteria to be activated",
                            "type": "object",
                            "properties": {
                                "duration": {
                                    "$ref": "../shared/range.json",
                                    "title": "Time applied",
                                    "description": "The amount of time (in ticks) that the player must have been levitating"
                                },
                                "distance": {
                                    "$ref": "../shared/predicate.json#/definitions/distance",
                                    "title": "Distance travelled",
                                    "description": "How far the player must have travelled whilst under the effect of the levitation"
                                }
                            }
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:location",
                                "minecraft:slept_in_bed"
                            ],
                            "description": "This criteria will be checked whenever the player sleeps (for \"slept_in_bed\"), or once every 20 ticks (\"location\")"
                        },
                        "conditions": {
                            "additionalProperties": false,
                            "title": "Location of the player",
                            "description": "The location of the player at the time of checking (for \"slept_in_bed\" this is just after they went to sleep)",
                            "$ref": "../shared/predicate.json#/definitions/location"
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:nether_travel"
                            ],
                            "description": "This criteria will be checked every 20 ticks"
                        },
                        "conditions": {
                            "additionalProperties": false,
                            "title": "Required conditions",
                            "description": "All of these conditions must pass for the criteria to be activated",
                            "type": "object",
                            "properties": {
                                "entered": {
                                    "$ref": "../shared/predicate.json#/definitions/location",
                                    "title": "Entering the nether",
                                    "description": "Where the player entered the nether (into the overworld)"
                                },
                                "exited": {
                                    "$ref": "../shared/predicate.json#/definitions/location",
                                    "title": "Exit portal location",
                                    "description": "Where the player left the nether (into the overworld)"
                                },
                                "distance": {
                                    "$ref": "../shared/predicate.json#/definitions/distance",
                                    "title": "Distance travelled through the nether",
                                    "description": "The distance between the entry nether portal and the exit nether portal (in the overworld)"
                                }
                            }
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:placed_block"
                            ],
                            "title": "Placing blocks",
                            "description": "This criteria will be checked whenever the player places a block"
                        },
                        "conditions": {
                            "$ref": "../shared/predicate.json#/definitions/block",
                            "additionalProperties": false,
                            "title": "Required conditions",
                            "description": "The placed block",
                            "properties": {
                                "item": {
                                    "$ref": "../shared/predicate.json#/definitions/item",
                                    "title": "Item placed",
                                    "description": "The item placed to create the block"
                                },
                                "location": {
                                    "$ref": "../shared/predicate.json#/definitions/location",
                                    "title": "Location of block",
                                    "description": "The location at which the block is placed"
                                }
                            }
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:recipe_unlocked"
                            ],
                            "title": "Unlock recipe",
                            "description": "This criteria will be checked whenever the player unlocks a recipe"
                        },
                        "conditions": {
                            "additionalProperties": false,
                            "title": "Required conditions",
                            "description": "All of these conditions must pass for the criteria to be activated",
                            "type": "object",
                            "properties": {
                                "recipe": {
                                    "type": "string",
                                    "title": "The name of the recipe",
                                    "description": "The recipe which must be unlocked. Does not act retroactively, so if an advancement was present after a recipe was given, it will not itself activate"
                                }
                            }
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:summoned_entity",
                                "minecraft:tame_animal"
                            ],
                            "title": "Something with an entity",
                            "description": "This criteria will be checked whenever the player summons an entity or tames an animal. Summoning an entity only counts the wither, iron golems and snow golems, not spawn eggs"
                        },
                        "conditions": {
                            "additionalProperties": false,
                            "title": "Required conditions",
                            "description": "All of these conditions must pass for the criteria to be activated",
                            "type": "object",
                            "properties": {
                                "entity": {
                                    "$ref": "../shared/predicate.json#/definitions/entity",
                                    "title": "The entity summmoned"
                                }
                            }
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:used_ender_eye"
                            ],
                            "title": "Use eye of ender",
                            "description": "This criteria will be checked whenever the player uses an eye of ender"
                        },
                        "conditions": {
                            "additionalProperties": false,
                            "title": "Required conditions",
                            "description": "All of these conditions must pass for the criteria to be activated",
                            "type": "object",
                            "properties": {
                                "distance": {
                                    "$ref": "../shared/range.json",
                                    "title": "Distance from player to stronghold",
                                    "description": "The number of blocks in the XZ plane between the player and the stronghold - See pythagoras"
                                }
                            }
                        }
                    }
                },
                {
                    "additionalProperties": false,
                    "properties": {
                        "trigger": {
                            "type": "string",
                            "enum": [
                                "minecraft:villager_trade"
                            ],
                            "title": "Trade with a villager",
                            "description": "This criteria will be checked whenever the player trades with a villager"
                        },
                        "conditions": {
                            "additionalProperties": false,
                            "title": "Required conditions",
                            "description": "All of these conditions must pass for the criteria to be activated",
                            "type": "object",
                            "properties": {
                                "villager": {
                                    "$ref": "../shared/predicate.json#/definitions/entity",
                                    "title": "The villager traded with"
                                },
                                "item": {
                                    "$ref": "../shared/predicate.json#/definitions/item",
                                    "title": "The item which was purchased"
                                }
                            }
                        }
                    }
                }
            ]
        }
    }
}
